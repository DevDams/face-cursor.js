/*!
 * face-cursor.js (github.com/matthias-vogt/face-cursor.js)
 * Copyright (c) 2016 Matthias Vogt (ISC License)
 */
!function(t,e,n,s){"use strict";var o="faceCursor",i={avertCursor:!1,perspective:"6rem",cacheElementData:!0},a=function(e,n){e===s&&(e={});var o=function(){this.destroy=r.destroy,this.init()};t.extend(r,{options:e,$elements:n}),t.extend(o.prototype,r);var i=new o;return i},r={get settings(){return console.log(this.options),delete this.settings,this.settings=t.extend(!0,{},i,this.options)},destroy:function(){this.$elements.off("."+o)},init:function(){var e=this;this.options.cacheElementData&&this.cacheElementData(),this.animFrameLoop(e),t(n).on("mousemove."+o,function(t){e.lastMouseCoords={x:t.pageX,y:t.pageY}})},lastMouseCoords:null,getElementData:function(e){var n=this;this.$elements.each(function(s,i){n.settings.cacheElementData&&t(i).data("."+o)?e(t(i).data("cachedData."+o),t(i)):e({w:t(i).outerWidth(),h:t(i).outerHeight(),offset:t(i).offset()},t(i))})},cacheElementData:function(){this.getElementData(function(t,e){e.data("cachedData."+o,t)})},animFrameLoop:function(t){e.requestAnimationFrame(function(){t.frame(),t.animFrameLoop(t)})},frame:function(){if(this.lastMouseCoords){var t=this;this.getElementData(function(e,n){var s=t.lastMouseCoords.x-(e.offset.left+e.w/2),o=t.lastMouseCoords.y-(e.offset.top+e.h/2),i=s/(e.w/2),a=o/(e.h/2);console.log(t.settings),n.css("transform","perspective("+t.settings.perspective+")rotate3d("+(a*(t.settings.avertCursor?1:-1)).toFixed(2)+", "+(i*(t.settings.avertCursor?-1:1)).toFixed(2)+", 0, 1deg)")})}}};t.fn[o]=function(e){return this.each(function(){t(this).data("plugin_"+o)&&t(this).data("plugin_pluginName").destroy(),t(this).data("plugin_"+o,a(e,t(this)))})}}(jQuery,window,document);